# b24_app_webhook_catalog_currency_etc
первые шаги для начинающих, **рабочий проект**, несколько примеров...
(здесь просто как чекпоинт) полностью автономное решение, пути править не нужно, код собирался через компосер и так вручную кусками, не важно - разобраться можно)) по качеству моего кода не смотрим (не специалист), по организации структуры тоже - работает и ладно...

как настроить (получить токен) вебхук или приложение в б24 писать не буду - все просто

в проекте использованы обертки
 - @bitrix/crest - php от bitrix 24 https://github.com/  
 - Bitrix24 API PHP Wrapper bitrix-tools/crest - php от Andrey https://github.com/andrey-tech/bitrix24-api-php
 - Bitrix24 JS-lib Wrapper - js от Andrey https://github.com/andrey-tech/bx24-wrapper-js

в качестве фреймворка для вебморд 
 - Uikit3 https://getuikit.com/ - просто он подходит для новичков ))

 все приложения как одностраничные сайты header+body+footer в стиле CMS Битрикс (все три блока собираются в файле index.php) просто так удобнее мне

поехали!
1. берем всю структуру проекта бросаем на свой хост (https)...
2. в Б24 настраиваем один (или несколько) входящий вебхук с полными правами на все про все (все сущности) с целью получить токен - через него будем записывать в Б24
3. прописываем токен в с доменом вот сюда /b24/bitrix24/settings.php
4. создаем несколько приложений с полными правами и указваем в них обработчики php ... здесь например для пары приложений
![1](https://user-images.githubusercontent.com/16114000/225566497-9a09c9c3-b061-41d3-8f57-69f4686f9629.png)

1. приложение для просмотра текущей структуры БД Б24 - просто набор запросов из https://dev.1c-bitrix.ru/rest_help/ (в принципе можно использовать родное приложение Б24 Документация по REST API с отладчиком - но в примерах мало конкретики, мало текста, есть неточности в примерах и т.д... -  проще было пощупать своими руками)
![request](https://user-images.githubusercontent.com/16114000/225566391-fd7aace3-0cae-4e26-8221-fceae39b3b5d.png)
 - практически все запросы идут без параметров, но есть несколько фильтров или поиск по id если хотите
 - некоторые запросы возвращают ошибки особенно по инфоблокам т.к. требуют настройки параметров и возвращают не просто массивы данных в чистом виде а массивы внутри именованных объектов... (здесь не обрабатываю просто показываю ошибку)
писать что то универсальное небыло смысла - поэтому это чисто информационное приложение чтобы понять - что же там внутри этого Б24
 - выбор типа запроса до 50 значений (one) или более (list) к тому или иному типу запросов - по документации
 - выбор результата промис (одним массивом) или генератор 
ну и т.д. построено на обертке itrix24 JS-lib Wrapper
![getInfo](https://user-images.githubusercontent.com/16114000/225566381-7cef0ed3-b45e-4c87-908d-3d8d6c40106a.png)
форматирование ответа (что показываем на экране) лежит здесь /b24/bitrix24/apps/other_function.js

![catalog](https://user-images.githubusercontent.com/16114000/225566374-fa7f1b47-1da0-418e-a9b8-581edde76bc9.png)



